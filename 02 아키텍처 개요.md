# 4ê°œì˜ ì˜ì—­ 
   
### í‘œí˜„/UI    
ì‚¬ìš©ìžì˜ **ìš”ì²­ì„ í•´ì„í•´ì„œ ì‘ìš© ì„œë¹„ìŠ¤ì— ì „ë‹¬**í•˜ê³         
ì‘ìš© ì„œë¹„ìŠ¤ì˜ **ê²°ê³¼ë¥¼ ì‚¬ìš©ìžê°€ ì´í•´í•  ìˆ˜ ìžˆëŠ” í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•´ì„œ ì‘ë‹µ**í•œë‹¤.          

**ì—¬ê¸°ì„œ ì‚¬ìš©ìžëž€? ðŸ¤”**   
```
ì‚¬ìš©ìžëŠ” ì›¹ ë¸Œë¼ìš°ì €ì´ê±°ë‚˜, 
REST APIë¥¼ ì´ìš©í•œ ì™¸ë¶€ ì‹œìŠ¤í…œì¼ ìˆ˜ ìžˆë‹¤.(ëª¨ë°”ì¼, ê¸°íƒ€ ë“±ë“±)   
```
       
ì¦‰, `HTTP ìš”ì²­`ì„ **ì‘ìš© ì˜ì—­ì´ í•„ìš”ë¡œ í•˜ëŠ” í˜•ì‹ìœ¼ë¡œ ë³€í™˜**í•´ì„œ ì‘ìš© ì˜ì—­ì— ì „ë‹¬í•˜ê³            
`ì‘ìš© ì˜ì—­ì˜ ì‘ë‹µ`ì„ **HTTP ì‘ë‹µìœ¼ë¡œ ë³€í™˜í•´ì„œ ì „ì†¡í•œë‹¤.**(REST ë°ì´í„°, Modelì€ ì „ë‹¬ì´ ì•„ë‹ˆê¸°ì— ëºìŠµë‹ˆë‹¤.)          
       
ì‰½ê²Œ ë§í•˜ë©´,       
`@RequestBody`ë¥¼ ì´ìš©í•´ì„œ `ì‚¬ìš©ìž`ë¡œë¶€í„° ë„˜ì–´ì˜¨ ê°’ì„ `HTTP ìš”ì²­ ë³¸ë¬¸ì— ë‹´ê¸´ ê°’ë“¤ì„ ìžë°” ê°ì²´ë¡œ ë³€í™˜`í•œ í›„ `Service`ì— ë„˜ê¸°ê³            
`@ResponseBody`ë¥¼ ì´ìš©í•´ì„œ `Servic`ë¡œë¶€í„° ë„˜ì–´ì˜¨ ê°’ì„ `HTTP ì‘ë‹µ ë³¸ë¬¸ì˜ JSON ê°ì²´ë¡œ ë³€í™˜`í•œ í›„ ì‘ë‹µí•˜ëŠ” ê²ƒì„ ë§í•œë‹¤.          
ì¦‰, `Controller`ê°€ ëŒ€í‘œì ì¸ ì˜ˆì‹œë¼ê³  ë³´ë©´ ëœë‹¤. (MVCë¼ê³  ì±…ì—ì„œëŠ” ë‚˜ì™”ëŠ”ë° ë” ìžì„¸ížˆ ë§í•˜ë©´)        
       
### ì‘ìš©   
ì‚¬ìš©ìžì—ê²Œ **ì œê³µí•´ì•¼ í•  ê¸°ëŠ¥ì„ êµ¬í˜„í•œë‹¤.**       
`ì£¼ë¬¸ ë“±ë¡`, `ì£¼ë¬¸ ì·¨ì†Œ`, `ìƒí’ˆ ìƒì„¸ ì¡°íšŒ` ë“±ë“±...      
        
`ì‘ìš© ì˜ì—­`ì€ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ **ë„ë©”ì¸ ì˜ì—­ì˜ ë„ë©”ì¸ ëª¨ë¸ë“¤ì„ ì´ìš©í•œë‹¤.**     

```java
public class CancelOrderService {
      
    @Transactional    
    public void cancelOrder(String orderId) {    
        Order order = findOrderById(orderId);     
        if(order == null) throw new OrderNotFoundException(orderId);      
        order.cancel();   
    }
}  
```  
ì‘ìš© ì„œë¹„ìŠ¤ëŠ” ë¡œì§ì„ ì§ì ‘ ìˆ˜í–‰í•˜ê¸° ë³´ë‹¤ëŠ”        
**ë„ë©”ì¸ ëª¨ë¸ì— ë¡œì§ ìˆ˜í–‰ì„ ìœ„ìž„í•œë‹¤.(ì—­í• ê³¼ ì±…ìž„, ì €ëŠ” í˜‘ë ¥í•˜ëŠ” ê³µê°„ìœ¼ë¡œë„ ìƒê°í•©ë‹ˆë‹¤.)**           
ìœ„ ì½”ë“œë„ ë„ë©”ì¸ì¸ `Order`ê°€ `ì·¨ì†Œ ì²˜ë¦¬`ë¥¼ í•˜ê³  ìžˆë‹¤.     

### ë„ë©”ì¸  
ë„ë©”ì¸ ì˜ì—­ì€ **`ë„ë©”ì¸ ëª¨ë¸`ì„ êµ¬í˜„í•˜ëŠ” ì˜ì—­**ì´ë‹¤.     
`Order`, `OrderLine`, `ShippingInfo` ë“±ë“±...   
ê·¸ë¦¬ê³  **`ë„ë©”ì¸ ëª¨ë¸`ì€ ë„ë©”ì¸ì˜ í•µì‹¬ ë¡œì§ì„ êµ¬í˜„**í•œë‹¤.     
     
**ì£¼ë¬¸ ë„ë©”ì¸**     
* ë°°ì†¡ì§€ ë³€ê²½    
* ê²°ì œ ì™„ë£Œ        
* ì£¼ë¬¸ ì´ì•¡ ê³„ì‚°    

### ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜
ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ ì˜ì—­ì€ **êµ¬í˜„ ê¸°ìˆ **ì— ëŒ€í•œ ê²ƒì„ ë‹¤ë£¬ë‹¤.     

* `RDBMS` ì—°ë™ì²˜ë¦¬
* [ë©”ì‹œì§• í](https://ko.wikipedia.org/wiki/%EB%A9%94%EC%8B%9C%EC%A7%80_%ED%81%90)ì— ë©”ì‹œì§€ ì „ì†¡í•˜ê±°ë‚˜ ìˆ˜ì‹     
* `ëª½ê³  DB`, `HBase` ë¥¼ ì‚¬ìš©í•´ì„œ ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ ì²˜ë¦¬  
* `SMTP`ë¥¼ ì´ìš©í•œ ë©”ì¼ ë°œì†¡ ê¸°ëŠ¥ êµ¬í˜„      
* `HTTP í´ë¼ì´ì–¸íŠ¸`ë¥¼ ì´ìš©í•´ì„œ `REST API`ë¥¼ í˜¸ì¶œ     
  
ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ ì˜ì—­ì€      
ë…¼ë¦¬ì ì¸ ê°œë…ì„ í‘œí˜„í•˜ê¸° ë³´ë‹¤ëŠ” **ì‹¤ì œ êµ¬í˜„ì„ ë‹¤ë£¬ë‹¤.**      

`ë„ë©”ì¸ ë¡œì§`, `ì‘ìš© ì˜ì—­`, `í‘œí˜„ ì˜ì—­`ì€ **êµ¬í˜„ ê¸°ìˆ ì„ ì‚¬ìš©í•œ ì½”ë“œë¥¼ ì§ì ‘ ë§Œë“¤ì§€ëŠ” ì•ŠëŠ”ë‹¤.**   
ëŒ€ì‹ , **ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ ì˜ì—­ì—ì„œ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì„ ì‚¬ìš©í•´ì„œ í•„ìš”í•œ ê¸°ëŠ¥ì„ ê°œë°œí•œë‹¤.**    
  
ì˜ˆì‹œ1)        
1. ì‘ìš© ì˜ì—­ì´ DBì— ë³´ê´€ëœ ë°ì´í„°ê°€ í•„ìš”
2. ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ ì˜ì—­ì˜ DB ëª¨ë“ˆì„ ì‚¬ìš©í•´ì„œ ë°ì´í„°ë¥¼ ì½ì–´ì˜¨ë‹¤.   
       
ì˜ˆì‹œ2)       
1. SMTP ì—°ë™ ëª¨ë“ˆì„ ì´ìš©í•´ì„œ ë©”ì¼ ë°œì†¡    
    
ì‚¬ì‹¤ ì—¬ê¸°ì„œ ê°€ìž¥ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•˜ëŠ” ì ì€ **ê´€ì‹¬ì‚¬ ë¶„ë¦¬**ì´ë‹¤.      
`ë„ë©”ì¸ ë¡œì§`, `ì‘ìš© ì˜ì—­`, `í‘œí˜„ ì˜ì—­`ì€ **êµ¬í˜„ ê¸°ìˆ ì„ ì–´ë–»ê²Œ ì‚¬ìš©í–ˆëŠ”ì§€ ê´€ì‹¬ì´ ì—†ë‹¤.**         
ì˜¤ë¡œì§€ `ë°ì´í„°`ë§Œì„ í•„ìš”ë¡œ í•˜ê³  **ê·¸ ë°ì´í„°ë¥¼ ìž˜ ê°€ê³µí•˜ëŠ” ì—­í• ë§Œì„ í•œë‹¤.**      
ì¦‰, ìžì‹ ì˜ ì—­í• ê³¼ ì±…ìž„ -> `ì½”ì–´ ë°¸ë¥˜`ë§Œì„ ìƒê°í•  ë¿ì´ë‹¤.      
  
# ê³„ì¸µ êµ¬ì¡° ì•„í‚¤í…ì²˜     
`4 ì˜ì—­`ì„ êµ¬ì„±í•  ë•Œ ë§Žì´ ì‚¬ìš©í•˜ëŠ” ì•„í‚¤í…ì²˜ê°€ ì•„ëž˜ì™€ ê°™ì€ êµ¬ì¡°ì´ë‹¤.   
    
[ì‚¬ì§„](#)    
  
í‘œí˜„ ì˜ì—­ê³¼ ì‘ìš© ì˜ì—­ì€ ë„ë©”ì¸ ì˜ì—­ì„ ì‚¬ìš©í•˜ê³ ,   
ë„ë©”ì¸ ì˜ì—­ì€ ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ ì˜ì—­ì„ ì‚¬ìš©í•˜ë¯€ë¡œ ê³„ì¸µ êµ¬ì¡°ê°€ ì ë‹¹í•´ë³´ì¸ë‹¤.   
ë„ë©”ì¸ ë³µìž¡ë„ì— ë”°ë¼ ì‘ìš©ê³¼ ë„ë©”ì¸ì„ ë¶„ë¦¬í•˜ê¸°ë„ í•˜ê³      
í•œ ê³„ì¸µìœ¼ë¡œ í•©ì¹˜ê¸°ë„ í•œë‹¤.       

ê³„ì¸µ êµ¬ì¡°ëŠ” íŠ¹ì„±ìƒ    
**`ìƒìœ„ ê³„ì¸µ`ì—ì„œ `í•˜ìœ„ ê³„ì¸µ`ìœ¼ë¡œì˜ ì˜ì¡´ë§Œ ì¡´ìž¬**í•˜ê³        
**`í•˜ìœ„ ê³„ì¸µ`ì€ `ìƒìœ„ ê³„ì¸µ`ì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤.**     

```java
@Controller
public class SampleController {
    private final SampleService sampleService; // í•˜ìœ„ë¥¼ ì˜ì¡´
    
    public SampleController(SampleService sampleService) {
        this.sampleService = sampleService;
    }
    ... // 
}
```
   
ê³„ì¸µ êµ¬ì¡°ë¥¼ ì—„ê²©í•˜ê²Œ ì ìš©í•˜ë©´        
`ìƒìœ„ ê³„ì¸µ`ì€ ë°”ë¡œ ì•„ëž˜ì˜ `í•˜ìœ„ ê³„ì¸µ`ì—ë§Œ ì˜ì¡´í•´ì•¼í•˜ì§€ë§Œ     
êµ¬í˜„ì˜ íŽ¸ë¦¬ìƒ, **ê³„ì¸µ êµ¬ì¡°ë¥¼ ìœ ì—°í•˜ê²Œ ì ìš©í•  ìˆ˜ ìžˆë‹¤.**     
   
[ì‚¬ì§„](#)  
  
`ë£° ì—”ì§„`ì— ëŒ€í•´ì„œëŠ” ì„¤ëª…ë¶€íƒë“œë¦´ê²Œìš”       


```java
@Service
public class SampleServiceImpl implements SampleService {
  
    private final SampleRepository sampleRepository; // ë„ë©”ì¸ì´ ì•„ë‹Œ ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ ì˜ì—­  
                                                     // ìƒìœ„ ê³„ì¸µì— ëŒ€í•œ ì˜ì¡´ì´ ì—†ë‹¤.  
                                                     
    public SampleServiceImpl(SampleRepository sampleRepository) {
        this.sampleRepository = sampleRepository;
    }
    
    public void findById(Long id) {
        // ì—¬ê¸°ì„œ ë„ë©”ì¸ì„ ì–»ì–´ì˜¨ë‹¤.   
        Sample sample = sampleRepository.findById(id).orElseThrow(() ->
                new NoSearchSampleByIdException(id));
    }
    
}
```








